<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button href="/home" color="light">
        <ion-icon name="chevron-back" size="medium"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>View Expenses</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="exportToExcel()" [disabled]="expenses.length === 0">
        <ion-icon name="download-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Show a message if no data is found -->
  <div *ngIf="expenses.length === 0" class="no-data-container">
    <ion-icon class="ion-center" name="alert-circle-outline" size="large" color="medium"></ion-icon>
    <p>No expenses found. Please add some expenses to view them here.</p>
  </div>

  <!-- Show the list of expenses -->
  <ion-card *ngFor="let expense of expenses; let i = index">
    <ion-card-header>
      <ion-card-title>{{ expense.date }}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>Category: {{ expense.category }}</p>
      <p>Type: {{ expense.transactionType }}</p>
      <p>Description: {{ expense.description }}</p>
      <p>Amount: {{ expense.amount }}</p>
      <p>Notes: {{ expense.notes }}</p>
    </ion-card-content>
    <ion-button color="primary" (click)="editExpense(expense, i)">Edit</ion-button>
    <ion-button color="danger" (click)="deleteExpense(i)">Delete</ion-button>
  </ion-card>
</ion-content>
