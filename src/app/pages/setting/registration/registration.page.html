<ion-header>
  <ion-toolbar>
    <ion-title align="center">Register</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="regForm" (ngSubmit)="register()">
    <ion-list>
      <!-- First Name -->
      <ion-item>
        <ion-input
          labelPlacement="stacked"
          label="First Name"
          placeholder="Enter your first name"
          formControlName="firstName"
          required
        ></ion-input>
      </ion-item>
      <ion-note color="danger" *ngIf="regForm.get('firstName')?.invalid && regForm.get('firstName')?.touched">
        First Name is required.
      </ion-note>

      <!-- Last Name -->
      <ion-item>
        <ion-input
          labelPlacement="stacked"
          label="Last Name"
          placeholder="Enter your last name"
          formControlName="lastName"
          required
        ></ion-input>
      </ion-item>
      <ion-note color="danger" *ngIf="regForm.get('lastName')?.invalid && regForm.get('lastName')?.touched">
        Last Name is required.
      </ion-note>

      <!-- Email -->
      <ion-item>
        <ion-input
          labelPlacement="stacked"
          label="Email"
          placeholder="Enter your email"
          formControlName="email"
          type="email"
          required
        ></ion-input>
      </ion-item>
      <ion-note color="danger" *ngIf="regForm.get('email')?.invalid && regForm.get('email')?.touched">
        Enter a valid email address.
      </ion-note>

      <!-- Phone Number -->
      <ion-item>
        <ion-input
          labelPlacement="stacked"
          label="Phone Number"
          placeholder="Enter your phone number"
          formControlName="phone"
          type="tel"
          required
        ></ion-input>
      </ion-item>
      <ion-note color="danger" *ngIf="regForm.get('phone')?.invalid && regForm.get('phone')?.touched">
        Enter a valid 10-digit phone number.
      </ion-note>

      <!-- Date of Birth -->
      <ion-item>
        <ion-input
          type="text"
          [value]="regForm.get('dob')?.value"
          readonly
          (click)="openDatePicker()"
          placeholder="Select Date of Birth"
        ></ion-input>
      </ion-item>
      <ion-datetime
        *ngIf="isDatePickerOpen"
        presentation="date"
        (ionChange)="onDateChange($event)"
        [showDefaultButtons]="true"
      ></ion-datetime>
      <ion-note color="danger" *ngIf="regForm.get('dob')?.invalid && regForm.get('dob')?.touched">
        Date of Birth is required.
      </ion-note>

      <!-- Gender -->
      <ion-item>
        <ion-select formControlName="gender" label="Gender">
          <ion-select-option value="male">Male</ion-select-option>
          <ion-select-option value="female">Female</ion-select-option>
          <ion-select-option value="other">Other</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-note color="danger" *ngIf="regForm.get('gender')?.invalid && regForm.get('gender')?.touched">
        Gender is required.
      </ion-note>

      <!-- Password -->
      <ion-item>
        <ion-input
          formControlName="password"
          type="password"
          placeholder="Enter your password"
          required
        ></ion-input>
      </ion-item>
      <ion-note color="danger" *ngIf="regForm.get('password')?.invalid && regForm.get('password')?.touched">
        Password must be at least 8 characters long, contain at least one uppercase letter, one number, and one special character.
      </ion-note>
    </ion-list>

    <!-- Submit Button -->
    <ion-button expand="block" type="submit" [disabled]="regForm.invalid">Register</ion-button>
  </form>
</ion-content>